From 012fa547ef094c479bc492966e5c5fd77c124fe1 Mon Sep 17 00:00:00 2001
From: jgudec <jakov.gudec@gmail.com>
Date: Fri, 4 Aug 2023 13:22:27 +0100
Subject: [PATCH 1/3] Add sepolicy rules for Xiaomi FOD

---
 sepolicy/xiaomi.te | 12 ++++++++++++
 1 file changed, 12 insertions(+)
 create mode 100644 sepolicy/xiaomi.te

diff --git a/sepolicy/xiaomi.te b/sepolicy/xiaomi.te
new file mode 100644
index 0000000..4d7d20a
--- /dev/null
+++ b/sepolicy/xiaomi.te
@@ -0,0 +1,12 @@
+type vendor_sysfs_displayfeature, domain, mlstrustedobject;
+allow platform_app vendor_sysfs_displayfeature:dir search;
+
+allow platform_app vendor_sysfs_displayfeature:file write;
+allow platform_app vendor_sysfs_displayfeature:file open;
+allow platform_app vendor_sysfs_displayfeature:file getattr;
+
+type sysfs_tp_fodstatus, property_type;
+allow shell sysfs_tp_fodstatus:file getattr;
+
+allow shell vendor_sysfs_displayfeature:dir search;
+
-- 
2.17.1

