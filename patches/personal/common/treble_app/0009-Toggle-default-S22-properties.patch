From 002289c0cc1e4a1e8f0181dac3c19c8bd55ff656 Mon Sep 17 00:00:00 2001
From: jgudec <jakov.gudec@gmail.com>
Date: Sun, 31 Jul 2022 08:29:49 +0100
Subject: [PATCH 9/9] Toggle default S22 properties

---
 app/src/main/java/me/phh/treble/app/Misc.kt    | 15 +++++++++++++++
 app/src/main/java/me/phh/treble/app/Samsung.kt | 12 ++++++++++++
 app/src/main/res/xml/pref_misc.xml             |  4 ++--
 3 files changed, 29 insertions(+), 2 deletions(-)

diff --git a/app/src/main/java/me/phh/treble/app/Misc.kt b/app/src/main/java/me/phh/treble/app/Misc.kt
index e2136e1..e97e63c 100644
--- a/app/src/main/java/me/phh/treble/app/Misc.kt
+++ b/app/src/main/java/me/phh/treble/app/Misc.kt
@@ -270,5 +270,20 @@ object Misc: EntryStartup {
         spListener.onSharedPreferenceChanged(sp, MiscSettings.dt2w)
         spListener.onSharedPreferenceChanged(sp, MiscSettings.minHz)
         spListener.onSharedPreferenceChanged(sp, MiscSettings.maxHz)
+
+        val c = this.ctxt.get()
+
+        if(!sp.getBoolean(MiscSettings.multiCameras,false)){
+            sp.edit().putBoolean(MiscSettings.multiCameras , true).apply()
+        }
+        if(sp.getString(MiscSettings.minHz,"-1") == "-1"){
+            sp.edit().putString(MiscSettings.minHz , "24").apply()
+        }
+        if(sp.getString(MiscSettings.maxHz,"-1") == "-1"){
+            sp.edit().putString(MiscSettings.maxHz , "120").apply()
+        }
+        if(sp.getString(MiscSettings.roundedCorners,"-1") == "-1"){
+            sp.edit().putString(MiscSettings.roundedCorners , "48").apply()
+        }
     }
 }
diff --git a/app/src/main/java/me/phh/treble/app/Samsung.kt b/app/src/main/java/me/phh/treble/app/Samsung.kt
index 16e2379..d025330 100644
--- a/app/src/main/java/me/phh/treble/app/Samsung.kt
+++ b/app/src/main/java/me/phh/treble/app/Samsung.kt
@@ -122,6 +122,18 @@ class Samsung: EntryStartup {
                         .setApplicationEnabledSetting(malware, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, 0)
             } catch (t: Throwable) { }
         }
+        // if(!sp.getBoolean(SamsungSettings.extraSensors,false)){
+        //     sp.edit().putBoolean(SamsungSettings.extraSensors , true).apply()
+        // }
+        if(!sp.getBoolean(SamsungSettings.cameraIds,false)){
+            sp.edit().putBoolean(SamsungSettings.cameraIds , true).apply()
+        }
+        if(!sp.getBoolean(SamsungSettings.alternateAudioPolicy,false)){
+            sp.edit().putBoolean(SamsungSettings.alternateAudioPolicy , true).apply()
+        }
+        if(!sp.getBoolean(SamsungSettings.highBrightess,false)){
+            sp.edit().putBoolean(SamsungSettings.highBrightess , true).apply()
+        }
 
     }
 
diff --git a/app/src/main/res/xml/pref_misc.xml b/app/src/main/res/xml/pref_misc.xml
index 9f20656..e291ace 100644
--- a/app/src/main/res/xml/pref_misc.xml
+++ b/app/src/main/res/xml/pref_misc.xml
@@ -54,13 +54,13 @@
 			android:key="key_misc_display_fps"
 			android:title="Force FPS" />
 			<ListPreference
-			android:defaultValue="10"
+			android:defaultValue="-1"
 			android:entries="@array/pref_misc_display_refresh_rate"
 			android:entryValues="@array/pref_misc_refresh_rate_values"
 			android:key="key_misc_min_hz"
 			android:title="Minimum refresh rate" />
 			<ListPreference
-			android:defaultValue="120"
+			android:defaultValue="-1"
 			android:entries="@array/pref_misc_display_refresh_rate"
 			android:entryValues="@array/pref_misc_refresh_rate_values"
 			android:key="key_misc_max_hz"
-- 
2.17.1

